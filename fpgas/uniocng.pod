project.create uniocng
project.selectplatform unioc_ng

project.addinstance pod_library.adns6010
project.addinstance pod_library.encoder_inc
project.addinstance pod_library.encoder_inc
project.addinstance pod_library.encoder_inc
project.addinstance pod_library.compass

project.connectpin adns601000.adns_spi.mosi_o unioc_ng.fpga.86
project.connectpin adns601000.adns_spi.miso_i unioc_ng.fpga.92
project.connectpin adns601000.adns_spi.sck_o  unioc_ng.fpga.88
project.connectpin adns601000.adns_spi.cs1_no unioc_ng.fpga.90
project.connectpin adns601000.adns_spi.cs2_no unioc_ng.fpga.94
project.connectpin adns601000.adns_spi.cs3_no unioc_ng.fpga.73
project.connectpin adns601000.adns_spi.adns_reset_o unioc_ng.fpga.75

project.connectpin encoder_inc00.channels.ch_a_i unioc_ng.fpga.4
project.connectpin encoder_inc00.channels.ch_b_i unioc_ng.fpga.8

project.connectpin encoder_inc01.channels.ch_a_i unioc_ng.fpga.9
project.connectpin encoder_inc01.channels.ch_b_i unioc_ng.fpga.7

project.connectpin encoder_inc02.channels.ch_a_i unioc_ng.fpga.3
project.connectpin encoder_inc02.channels.ch_b_i unioc_ng.fpga.143

project.connectpin compass00.pwm.pwm_i unioc_ng.fpga.144

# TODO: branch wrapper pins

project.connectbus atmega_wb8_wrapper00.mwb8 adns601000.swb8
project.connectbus atmega_wb8_wrapper00.mwb8 encoder_inc00.swb8
project.connectbus atmega_wb8_wrapper00.mwb8 encoder_inc01.swb8
project.connectbus atmega_wb8_wrapper00.mwb8 encoder_inc02.swb8
project.connectbus atmega_wb8_wrapper00.mwb8 compass00.swb8

project.addbusclock rstext_syscon00.candr atmega_wb8_wrapper00.mwb8
project.connectpin rstext_syscon00.ext.ext_clk unioc_ng.fpga.CLK0
project.connectpin rstext_syscon00.ext.ext_rst_n unioc_ng.fpga.nRST_fpga

project.intercon atmega_wb8_wrapper00.mwb8

project.setaddr adns601000.swb8 0x1300
project.setaddr encoder_inc00.swb8 0x1400
project.setaddr encoder_inc01.swb8 0x1500
project.setaddr encoder_inc02.swb8 0x1600
project.setaddr compass00.swb8 0x1700

project.top

project.synthesis.selecttoolchain quartus
project.synthesis.generateproject
project.synthesis.generatepinout
project.synthesis.generatetcl
